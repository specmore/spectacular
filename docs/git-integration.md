# Git Integration
- [Git Integration](#git-integration)
    - [GitHub Integration](#github-integration)
      - [Registering a new GitHub App](#registering-a-new-github-app)
      - [Generate a Private Key](#generate-a-private-key)
      - [Allow access to your Repositories (Create an App Installation)](#allow-access-to-your-repositories-create-an-app-installation)

Spectacular is built around the concept of OpenAPI files stored in git repositories, therefore you will need to configure your Spectacular instance to integrate with your git repository hosting solution.

The following git hosting solutions are currently supported:
- GitHub

### GitHub Integration
Spectacular integrates with GitHub using its [GitHub Apps](https://developer.github.com/apps/) concept.

#### Registering a new GitHub App
To setup your own instance of Spectacular, you will need to register your own GitHub App on GitHub for the tool to use. The GitHub Apps must be registered against the user or organization account that owns the git repositories your OpenAPI files are kept in.
- Registering a new App against your own logged in user account: [https://github.com/settings/apps/new](https://github.com/settings/apps/new)
- Registering a new App against your organization: `https://github.com/organizations/<your-org-name>/settings/apps/new`

The following GitHub App registration values need to be set:
- `User authorization callback URL` - Set this to the URL following the following format: `<SPECTACULAR_HOST_URL>/login/github`. Where `SPECTACULAR_HOST_URL` is a URL to your installation of the Spectacular UI. For example, when running Spectacularly locally, this would be `http://localhost:8080/login/github`.
- Under `Repository permissions` give the App `Read-only` access to the `Contents` item.

Complete the rest of the registration details as appropriate and save your new App.

#### Generate a Private Key
To allow Spectacular to identify as this new GitHub App when making requests to GitHub's API, it needs a private key that GitHub generates.

:warning: **Key any Private Keys you generate safe and confidential. Any application could use this key to access GitHub resource this App has been given access to.**

Once the GitHub App is created, a new Private Key can be generated by selecting the "Generate a private key" button at the bottom of the "General" page for you new GitHub App. This will prompt for a `.pem` file to be downloaded to your computer via your browser.

#### Allow access to your Repositories (Create an App Installation)
Also once the GitHub App is created, it needs to be given access to the git repositories your OpenAPI files are kept in.

:warning: **A current limitation is that it is assumed that all your Git repositories belong to a single GitHub user or organization account.**

To do this, you will need to create an "installation" of this new App under the user or organization that owns the Git repository. This can be found under the "Install App" option on the left menu of the page for your GitHub App or by using the following link pattern.
- The App created under your own user account: `https://github.com/settings/apps/<your-new-app-name>/installations`
- The App created under your organization: `https://github.com/organizations/<your-org-name>/settings/apps/<your-new-app-name>/installations`

Here you should be given the option to install the App on the user or organisation that owns the git repositories.

After accepting giving concent for the App to access your account, you will land on the new installation's configuration page. Here you can choose which repositories you want to give Spectacular access to read OpenAPI files from.

Once you have selected the appropriate repositories, your GitHub integration is complete. :tada:

You can now continue to configure your instance of Spectacular with the values created during this setup [here](configuration.md).